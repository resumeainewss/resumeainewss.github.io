<!DOCTYPE html>
<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <title>Notícias</title>
    <style>
        table {
            border-collapse: collapse;
            width: 100%;
            margin-bottom: 20px;
        }

        th,
        td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background-color: #f2f2f2;
            font-weight: normal;
        }

        a {
            color: #333;
            text-decoration: none;
            font-weight: bold;
        }

        button {
            padding: 10px 20px;
            background-color: #333;
            color: #fff;
            border: none;
            cursor: pointer;
        }

        button:hover {
            background-color: #555;
        }
    </style>
</head>

<body>
    <div id="videosList"></div>
    <button id="loadMore">Ver Mais!</button>

    <script src="https://apis.google.com/js/api.js"></script>
    <script>
        gapi.load('client', function () {
            gapi.client.init({
                apiKey: 'YOUR_API_KEY',
            }).then(function () {
                var nextPageToken = ''; // Definindo a variável nextPageToken como uma string vazia
                $('#loadMore').click(function () {
                    // define as configurações da solicitação
                    var request = gapi.client.youtube.search.list({
                        part: 'snippet',
                        channelId: 'UCkQEoCoT8WtYcNJO3oBHreg',
                        type: 'video',
                        order: 'date',
                        maxResults: 10,
                        pageToken: nextPageToken,
                    });

                    // executa a solicitação e processa a resposta
                    request.execute(function (response) {
                        var items = response.items;
                        nextPageToken = response.nextPageToken;
                        var table = $('<table>');
                        var tr = $('<tr>');
                        tr.append('<th>Thumbnail</th>');
                        tr.append('<th>Title</th>');
                        tr.append('<th>Published Date</th>');
                        table.append(tr);
                        for (var i = 0; i < items.length; i++) {
                            var item = items[i];
                            var thumbnailUrl = item.snippet.thumbnails.medium.url;
                            var videoTitle = item.snippet.title;
                            var videoId = item.id.videoId;
                            var videoUrl = 'https://www.youtube.com/watch?v=' + videoId;
                            var publishedDate = new Date(item.snippet.publishedAt).toLocaleDateString();
                            var tr = $('<tr>');
                            tr.append('<td><a href="' + videoUrl + '"><img src="' + thumbnailUrl + '"></a></td>');
                            tr.append('<td><a href="' + videoUrl + '">' + videoTitle + '</a></td>');
                            tr.append('<td>' + publishedDate + '</td>');
                            table.append(tr);
                        }
                        $('#videosList').append(table);
                    });
                });
            });
        });
    </script>
</body>

</html>